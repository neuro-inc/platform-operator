should match snapshot:
  1: |
    apiVersion: argoproj.io/v1alpha1
    kind: Application
    metadata:
      labels:
        app: platform
        chart: platform-1.0.0
        heritage: Helm
        release: platform
      name: platform-secrets
    spec:
      destination:
        namespace: platform
        server: https://kubernetes.default.svc
      project: default
      source:
        chart: platform-secrets
        helm:
          valuesObject:
            image:
              repository: ghcr.io/neuro-inc/platformsecrets
            ingress:
              enabled: true
              hosts:
                - test-cluster.org.apolo.us
              ingressClassName: traefik
            platform:
              authUrl: https://api.apolo.us
              clusterName: test-cluster
              eventsUrl: https://api.apolo.us/apis/events
              token:
                valueFrom:
                  secretKeyRef:
                    key: token
                    name: platform-token
            priorityClassName: platform-services
            secretsNamespace: platform-jobs
            securityContext:
              enabled: true
            sentry:
              clusterName: test-cluster
              dsn: https://sentry-dsn
              sampleRate: 0.1
            service:
              annotations:
                traefik.ingress.kubernetes.io/service.sticky.cookie: "true"
                traefik.ingress.kubernetes.io/service.sticky.cookie.name: NEURO_SECRETS_SESSION
        repoURL: ghcr.io/neuro-inc/helm-charts
        targetRevision: '*'
      syncPolicy:
        automated:
          enabled: true
          prune: false
          selfHeal: false
        managedNamespaceMetadata:
          annotations:
            argocd.argoproj.io/sync-options: Delete=false
        syncOptions:
          - CreateNamespace=true
          - PrunePropagationPolicy=foreground
